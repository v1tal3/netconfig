{% extends "bootstrap/base.html" %}
{% block html_attribs %} lang="en" {% endblock %}
{% block title %}NetConfig{% endblock %}
{% block metas %}
{{super()}}
<meta name="description" content="NetConfig">
<meta name="author" content="Matt Vitale">
{% endblock %}
{% block styles %}
{{super()}}
<link rel="stylesheet" href="{{url_for('static', filename='css/font-awesome.min.css')}}">
<link rel="stylesheet" href="{{url_for('static', filename='css/DataTables/datatables.min.css')}}">
<link rel="stylesheet" href="{{url_for('static', filename='css/styles.css')}}">
{% endblock %}
{% block body %}
{% block navbar %}
<div class="container-fluid">
  <div class="row">
    <div class="col-md-8">
      <div id="contentContainer">
        <div class="navbar menu" role="navigation">
          <div class="navbar-header">
            <div class="navbar-header"><a class="navbar-brand" href="/">Home</a></div>
          </div>
          <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav pull-left">
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Network <b class="caret"></b></a>
                <ul class="dropdown-menu" role="menu">
                  <li><a href="/db/viewhosts">View Devices</a></li>
                  {% if config.DATALOCATION == 'local' %}
                  <li class="divider"></li>
                  <li><a href="/db/addhosts">Add Device</a></li>
                  <li><a href="/db/importhosts">Import Devices</a></li>
                  {% endif %}
                </ul>
              </li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                <ul class="dropdown-menu" role="menu">
                  <li><a href="https://github.com/v1tal3/netconfig" target="_blank">GitHub</a></li>
                  <li><a href="https://netconfig.readthedocs.io/" target="_blank">Documentation</a></li>
                  <li><a href="https://www.reddit.com/r/netconfig/" target="_blank">/r/NetConfig</a></li>
                  <li class="divider"></li>
                  <li><a>Version {{ config.VERSION }}</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="navbar-header navbar">
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav pull-right">
            {% if session['USER'] %}
            <li class="dropdown" id=activeDevicePlaceholder>
              <a href="#">Active Sessions <b class="caret"></b></a>
            </li>
            <li class="dropdown" id="activeDevices">
            </li>
            {% endif %}
            <li class="dropdown">
              {% if session['USER'] %}
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">{{ session['USER'] }} <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/disconnectAllSSH">Close Active SSH Sessions (<span id="activeSSHSessionCount"></span>)</a></li>
                <li><a href="/logout">Logout</a></li>
              </ul>
              {% else %}
              <a href="/login">Login</a> {% endif %}
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
<div class="container-fluid">
  <div class="row">
    <div class="col-md-1">
    </div>
    <div class="col-md-11">
      {% if session['USER'] or request.path == "/login" %}
        {% block content %}{% endblock %}
      {% else %}
        {% include "/errors/notloggedin.html" %}
      {% endif %}
    </div>
  </div>
</div>
{% if session['USER'] %}
  {% include "/js/count_active_sessions_js.html" %}
  {% endif %}
{%block scripts %}
<script src="{{url_for('static', filename='js/jquery-3.2.1.min.js')}}"></script>
{{super()}}
<script src="{{url_for('static', filename='js/validator.min.js')}}"></script>
<script src="{{url_for('static', filename='js/loadingoverlay.min.js')}}"></script>
<script src="{{url_for('static', filename='js/loading.js')}}"></script>
<script src="{{url_for('static', filename='DataTables/datatables.min.js')}}"></script>
{% endblock %}
{% endblock %}
